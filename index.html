<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#178a2c" />
  <title>Barcode Scanner</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <button id="btnClose" class="iconbtn" aria-label="Close">
      <!-- X -->
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18.3 5.7a1 1 0 0 0-1.4 0L12 10.6 7.1 5.7A1 1 0 0 0 5.7 7.1l4.9 4.9-4.9 4.9a1 1 0 1 0 1.4 1.4l4.9-4.9 4.9 4.9a1 1 0 0 0 1.4-1.4L13.4 12l4.9-4.9a1 1 0 0 0 0-1.4z"/></svg>
    </button>

    <div class="title">Scanner</div>

    <div class="actions">
      <button id="btnTorch" class="iconbtn" aria-label="Toggle torch" title="Torch">
        <!-- bolt -->
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M13 2 3 14h7l-1 8 12-14h-7l-1-6z"/></svg>
      </button>
      <button id="btnHelp" class="iconbtn" aria-label="Help" title="Help">
        <!-- ? -->
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2zm0 15a1.25 1.25 0 1 1 0 2.5A1.25 1.25 0 0 1 12 17zm1.6-6.7-.9.6c-.5.4-.7.7-.7 1.6v.3h-2v-.4c0-1.4.5-2.2 1.5-2.9l1.1-.8c.4-.3.6-.6.6-1 0-.8-.6-1.3-1.5-1.3-1 0-1.6.5-1.7 1.4H8c.1-2 1.7-3.2 3.9-3.2 2.3 0 3.6 1.2 3.6 3 0 1.1-.5 1.9-1.9 2.8z"/></svg>
      </button>
    </div>
  </header>

  <main class="stage">
    <div class="cameraShell">
      <div id="reader" class="reader"></div>

      <!-- overlay to mimic your UI -->
      <div class="overlay" aria-hidden="true">
        <div class="corners">
          <span class="c tl"></span><span class="c tr"></span>
          <span class="c bl"></span><span class="c br"></span>
        </div>
        <div class="crosshair">+</div>
      </div>
    </div>

    <div class="bottomHint">
      <div class="barcodeIcon" aria-hidden="true"></div>
      <div class="hintText">Scan barcodes, QR codes, and more</div>
    </div>
  </main>

  <!-- Result modal -->
  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalCard">
      <div class="modalHeader">
        <div id="modalTitle" class="modalTitle">Scan result</div>
        <button id="btnModalClose" class="iconbtn" aria-label="Close result">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18.3 5.7a1 1 0 0 0-1.4 0L12 10.6 7.1 5.7A1 1 0 0 0 5.7 7.1l4.9 4.9-4.9 4.9a1 1 0 1 0 1.4 1.4l4.9-4.9 4.9 4.9a1 1 0 0 0 1.4-1.4L13.4 12l4.9-4.9a1 1 0 0 0 0-1.4z"/></svg>
        </button>
      </div>

      <div class="kv">
        <div class="k">Format</div>
        <div id="resultFormat" class="v">—</div>
        <div class="k">Value</div>
        <div id="resultText" class="v mono">—</div>
      </div>

      <div class="modalActions">
        <button id="btnCopy" class="btn">Copy</button>
        <button id="btnOpen" class="btn secondary">Open</button>
        <button id="btnScanAgain" class="btn primary">Scan again</button>
      </div>
    </div>
  </div>

  <!-- html5-qrcode from CDN (pinned version) -->
  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
